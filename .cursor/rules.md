# Project Rules — MCP First

- Всегда предпочитай MCP-инструменты, если для задачи есть подходящий tool.
- Перед любым поиском/браузингом/генерацией сначала:
  1) Список доступных MCP servers и tools (names + короткое назначение).
  2) Выбор инструмента(ов) и план вызовов.
  3) Только если MCP не покрывает задачу — объясни почему и переходи к альтернативе.
- При ошибке tool-вызова: до 2 повторов с экспоненциальной паузой (1с, затем 3с); если снова неудача — выведи лог ошибки и предложи ближайшую альтернативу из других MCP.
- Запрещено выполнять ручной «веб-поиск»/скрейпинг, если есть MCP с теми же данными.
- В каждом ответе указывай, какие MCP-tools были вызваны и зачем (кратко).

## Таймауты и политика повторов
- Таймаут вызова любого MCP-tool не менее 30 секунд.
- Политика повторов: 2 ретрая с backoff 1с/3с, затем fail с логом.

## Включение правил по умолчанию
- Для всех запросов в этом репозитории применять правила из `.cursor/rules.md`.
- Перед любым действием вставлять блок «Preflight MCP» (см. шаблон в `.cursor/templates/preflight-mcp.md`) как первый блок рассуждений.
